{"ast":null,"code":"var _jsxFileName = \"D:\\\\ManageStudent\\\\Front_end\\\\src\\\\Component\\\\HomePage.js\";\nimport React, { Component } from 'react';\nimport { Container, Row, Col } from 'reactstrap';\nimport ModalForm from './ModalForm';\nimport DataTable from './DataTable';\nimport { CSVLink } from \"react-csv\";\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass HomePage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getAllUsersFromReact = async () => {\n      axios.get('http://localhost:8000/home/data').then(response => {\n        console.log(response);\n        this.setState({\n          arrUsers: response.data.data\n        });\n      }).catch(function (error) {\n        console.log(error);\n      });\n    };\n\n    this.handleBtnAddNewUser = () => {\n      this.setState({\n        isOpenModalUser: true\n      });\n    };\n\n    this.handleToggleUserModal = () => {\n      this.setState({\n        isOpenModalUser: !this.state.isOpenModalUser\n      });\n    };\n\n    this.handleToggleEditModal = () => {\n      this.setState({\n        isOpenEditUser: !this.state.isOpenEditUser\n      });\n    };\n\n    this.handleCreateNewUser = async data => {\n      try {\n        let response = await createNewUserService(data);\n\n        if (response && response.errCode !== 0) {\n          alert(response.errMessage);\n        } else {\n          await this.getAllUsersFromReact();\n          this.setState({\n            isOpenModalUser: false\n          });\n          emitter.emit('EVENT_CLEAR_MODAL_DATA', {\n            'id': 'your id'\n          });\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.handleDeteleUser = async user => {\n      try {\n        let response = await deteleUserService(user.id);\n\n        if (response && response.errCode !== 0) {\n          alert(response.errMessage);\n        } else {\n          await this.getAllUsersFromReact();\n          this.setState({\n            isOpenModalUser: false\n          });\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.handleEditUser = async user => {\n      try {\n        this.setState({\n          isOpenEditUser: true,\n          userEdit: user\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.doEditUser = async user => {\n      try {\n        let response = await editUserService(user);\n\n        if (response && response.errCode !== 0) {\n          alert(response.errMessage);\n        } else {\n          await this.getAllUsersFromReact();\n          this.setState({\n            isOpenEditUser: false\n          });\n        }\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.state = {\n      arrUsers: [],\n      isOpenModalUser: false,\n      isOpenEditUser: false,\n      userEdit: {}\n    };\n  }\n\n  // getItems() {\n  // }\n  // addItemToState = (item) => {\n  //   this.setState(prevState => ({\n  //     items: [...prevState.items, item]\n  //   }))\n  // }\n  // updateState = (item) => {\n  //   const itemIndex = this.state.items.findIndex(data => data.id === item.id)\n  //   const newArray = [\n  //     // destructure all items from beginning to the indexed item\n  //     ...this.state.items.slice(0, itemIndex),\n  //     // add the updated item to the array\n  //     item,\n  //     // add the rest of the items to the array from the index after the replaced item\n  //     ...this.state.items.slice(itemIndex + 1)\n  //   ]\n  //   this.setState({ items: newArray })\n  // }\n  // deleteItemFromState = (id) => {\n  //   const updatedItems = this.state.items.filter(item => item.id !== id)\n  //   this.setState({ items: updatedItems })\n  // }\n  componentDidMount() {\n    this.getItems();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(Container, {\n      className: \"HomePage\",\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            style: {\n              margin: \"20px 0\"\n            },\n            children: \"CRUD Database\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        children: /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(DataTable, {\n            items: this.state.items,\n            updateState: this.updateState,\n            deleteItemFromState: this.deleteItemFromState\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nexport default HomePage;","map":{"version":3,"names":["React","Component","Container","Row","Col","ModalForm","DataTable","CSVLink","axios","HomePage","constructor","props","getAllUsersFromReact","get","then","response","console","log","setState","arrUsers","data","catch","error","handleBtnAddNewUser","isOpenModalUser","handleToggleUserModal","state","handleToggleEditModal","isOpenEditUser","handleCreateNewUser","createNewUserService","errCode","alert","errMessage","emitter","emit","e","handleDeteleUser","user","deteleUserService","id","handleEditUser","userEdit","doEditUser","editUserService","componentDidMount","getItems","render","margin","items","updateState","deleteItemFromState"],"sources":["D:/ManageStudent/Front_end/src/Component/HomePage.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport { Container, Row, Col } from 'reactstrap'\r\nimport ModalForm from './ModalForm'\r\nimport DataTable from './DataTable'\r\nimport { CSVLink } from \"react-csv\"\r\nimport axios from 'axios'\r\n\r\nclass HomePage extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      arrUsers: [],\r\n      isOpenModalUser: false,\r\n      isOpenEditUser: false,\r\n      userEdit: {},\r\n    }\r\n  }\r\n\r\n  getAllUsersFromReact = async () => {\r\n    axios.get('http://localhost:8000/home/data')\r\n      .then(response => {\r\n        console.log(response)\r\n        this.setState({\r\n          arrUsers: response.data.data,\r\n        })\r\n      }\r\n      )\r\n      .catch(function (error) {\r\n        console.log(error);\r\n      });\r\n  }\r\n\r\n  handleBtnAddNewUser = () => {\r\n    this.setState({\r\n      isOpenModalUser: true\r\n    })\r\n  }\r\n\r\n  handleToggleUserModal = () => {\r\n    this.setState({\r\n      isOpenModalUser: !this.state.isOpenModalUser\r\n    })\r\n  }\r\n\r\n  handleToggleEditModal = () => {\r\n    this.setState({\r\n      isOpenEditUser: !this.state.isOpenEditUser\r\n    })\r\n  }\r\n\r\n  handleCreateNewUser = async (data) => {\r\n    try {\r\n      let response = await createNewUserService(data)\r\n      if (response && response.errCode !== 0) {\r\n        alert(response.errMessage);\r\n      }\r\n      else {\r\n        await this.getAllUsersFromReact();\r\n        this.setState({\r\n          isOpenModalUser: false\r\n        })\r\n        emitter.emit('EVENT_CLEAR_MODAL_DATA', { 'id': 'your id' })\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  handleDeteleUser = async (user) => {\r\n    try {\r\n      let response = await deteleUserService(user.id)\r\n      if (response && response.errCode !== 0) {\r\n        alert(response.errMessage);\r\n      }\r\n      else {\r\n        await this.getAllUsersFromReact();\r\n        this.setState({\r\n          isOpenModalUser: false\r\n        })\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  handleEditUser = async (user) => {\r\n    try {\r\n      this.setState({\r\n        isOpenEditUser: true,\r\n        userEdit: user,\r\n      })\r\n    }\r\n    catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  doEditUser = async (user) => {\r\n    try {\r\n      let response = await editUserService(user)\r\n      if (response && response.errCode !== 0) {\r\n        alert(response.errMessage);\r\n      }\r\n      else {\r\n        await this.getAllUsersFromReact();\r\n        this.setState({\r\n          isOpenEditUser: false\r\n        })\r\n      }\r\n    }\r\n    catch (e) {\r\n      console.log(e)\r\n    }\r\n  }\r\n\r\n  // getItems() {\r\n\r\n  // }\r\n\r\n  // addItemToState = (item) => {\r\n  //   this.setState(prevState => ({\r\n  //     items: [...prevState.items, item]\r\n  //   }))\r\n  // }\r\n\r\n  // updateState = (item) => {\r\n  //   const itemIndex = this.state.items.findIndex(data => data.id === item.id)\r\n  //   const newArray = [\r\n  //     // destructure all items from beginning to the indexed item\r\n  //     ...this.state.items.slice(0, itemIndex),\r\n  //     // add the updated item to the array\r\n  //     item,\r\n  //     // add the rest of the items to the array from the index after the replaced item\r\n  //     ...this.state.items.slice(itemIndex + 1)\r\n  //   ]\r\n  //   this.setState({ items: newArray })\r\n  // }\r\n\r\n  // deleteItemFromState = (id) => {\r\n  //   const updatedItems = this.state.items.filter(item => item.id !== id)\r\n  //   this.setState({ items: updatedItems })\r\n  // }\r\n\r\n  componentDidMount() {\r\n    this.getItems()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Container className=\"HomePage\">\r\n        <Row>\r\n          <Col>\r\n            <h1 style={{ margin: \"20px 0\" }}>CRUD Database</h1>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <DataTable items={this.state.items} updateState={this.updateState} deleteItemFromState={this.deleteItemFromState} />\r\n          </Col>\r\n        </Row>\r\n        {/* <Row>\r\n          <Col>\r\n            <CSVLink\r\n              filename={\"db.csv\"}\r\n              color=\"primary\"\r\n              style={{ float: \"left\", marginRight: \"10px\" }}\r\n              className=\"btn btn-primary\"\r\n              data={this.state.items}>\r\n              Download CSV\r\n            </CSVLink>\r\n            <ModalForm buttonLabel=\"Add Item\" addItemToState={this.addItemToState} />\r\n          </Col>\r\n        </Row> */}\r\n      </Container>\r\n    )\r\n  }\r\n}\r\n\r\nexport default HomePage\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}